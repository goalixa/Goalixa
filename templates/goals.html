{% extends "layout.html" %}
{% set title = "Goals" %}
{% set active_page = "goals" %}

{% block content %}
  <div class="container py-4 goals-page">
    <header class="header goals-header-bar">
      <div>
        <h1>Goals overview</h1>
        <p>Track weekly focus and long-term outcomes in one place.</p>
      </div>
      <a class="btn btn-primary btn-sm" href="{{ url_for('new_goal') }}">
        <i class="bi bi-plus-lg"></i>
        New long-term goal
      </a>
    </header>

    <section class="goals-hero">
      <a class="goal-hub-card" href="{{ url_for('weekly_goals') }}">
        <div>
          <p class="goals-label">Weekly goals</p>
          <h2>Weekly Focus</h2>
          <p class="goal-hub-meta">{{ weekly_range_label }}</p>
        </div>
        <div class="goal-hub-arrow">
          <i class="bi bi-arrow-up-right"></i>
        </div>
      </a>
      <a class="goal-hub-card" href="{{ url_for('long_term_goals') }}">
        <div>
          <p class="goals-label">Long-term goals</p>
          <h2>Long-term Outcomes</h2>
          <p class="goal-hub-meta">{{ goals | length }} goals in total</p>
        </div>
        <div class="goal-hub-arrow">
          <i class="bi bi-arrow-up-right"></i>
        </div>
      </a>
    </section>

    <section class="card goals-overview-card">
      <div class="goals-header">
        <div>
          <p class="goals-label">Overview</p>
          <h2 class="goals-title">Goal momentum</h2>
        </div>
      </div>
      <div class="goals-overview-grid">
        <div class="goals-overview-chart">
          <div class="chart-placeholder">Goals chart placeholder</div>
        </div>
        <div class="goals-summary">
          <div class="goal-stat-card">
            <span class="goal-stat-label">Active goals</span>
            <span class="goal-stat-value">{{ active_goals_count or 0 }}</span>
            <span class="goal-stat-meta">Total goals: {{ goals | length }}</span>
          </div>
          <div class="goal-stat-card">
            <span class="goal-stat-label">Focus this week</span>
            <span class="goal-stat-value">{{ total_goal_seconds | format_seconds }}</span>
            <span class="goal-stat-meta">Across all goals</span>
          </div>
          <div class="goal-stat-card">
            <span class="goal-stat-label">Upcoming deadlines</span>
            <span class="goal-stat-value">{{ targets_set or 0 }}</span>
            <span class="goal-stat-meta">Targets set</span>
          </div>
        </div>
      </div>
    </section>

  </div>
{% endblock %}
