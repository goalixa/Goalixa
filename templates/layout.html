<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title or "Goalixa" }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap/bootstrap.min.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap-icons/bootstrap-icons.min.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}?v={{ config.get('CSS_VERSION', '1.0') }}" />
  {% block head_extra %}{% endblock %}
</head>
<body data-page="{{ active_page or '' }}" data-demo="{{ '1' if demo_mode else '0' }}">
  <div class="container-fluid">
    <div class="row min-vh-100 app-shell">
      <aside class="sidebar col-12 col-lg-2" data-sidebar>
        <div class="sidebar-header">
          <div class="sidebar-brand">
            <div class="sidebar-brand-logo">
              <span class="sidebar-brand-mark">GX</span>
              <div class="sidebar-brand-glow"></div>
            </div>
            <span class="sidebar-brand-text">Goalixa</span>
          </div>
          <button class="sidebar-toggle" type="button" data-sidebar-toggle aria-label="Toggle sidebar" aria-pressed="false">
            <i class="bi bi-chevron-left"></i>
          </button>
        </div>

        <div class="sidebar-scroll">
          <!-- Essentials Section -->
          <div class="sidebar-section" data-collapsed="false">
            <div class="sidebar-section-header">
              <i class="bi bi-star-fill sidebar-section-icon"></i>
              <span class="sidebar-section-title">Essentials</span>
              <i class="bi bi-chevron-down sidebar-section-arrow"></i>
            </div>
            <nav class="sidebar-nav">
              <a class="sidebar-link {% if active_page == 'timer' %}active{% endif %}" href="{{ url_for('timer') }}" data-tooltip="Timer" data-tour-id="nav-timer">
                <i class="bi bi-stopwatch sidebar-link-icon"></i>
                <span class="sidebar-link-label">Timer</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'planner' %}active{% endif %}" href="{{ url_for('planner') }}" data-tooltip="Planner">
                <i class="bi bi-layout-text-window-reverse sidebar-link-icon"></i>
                <span class="sidebar-link-label">Planner</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'tasks' %}active{% endif %}" href="{{ url_for('index') }}" data-tooltip="Tasks" data-tour-id="nav-tasks">
                <i class="bi bi-list-check sidebar-link-icon"></i>
                <span class="sidebar-link-label">Tasks</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'calendar' %}active{% endif %}" href="{{ url_for('calendar') }}" data-tooltip="Calendar" data-tour-id="nav-calendar">
                <i class="bi bi-calendar-week sidebar-link-icon"></i>
                <span class="sidebar-link-label">Calendar</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'habits' %}active{% endif %}" href="{{ url_for('habits') }}" data-tooltip="Habits" data-tour-id="nav-habits">
                <i class="bi bi-check2-circle sidebar-link-icon"></i>
                <span class="sidebar-link-label">Habits</span>
                <span class="sidebar-link-indicator"></span>
              </a>
            </nav>
          </div>

          <!-- Daily Tracking Section -->
          <div class="sidebar-section" data-collapsed="false">
            <div class="sidebar-section-header">
              <i class="bi bi-calendar-day sidebar-section-icon"></i>
              <span class="sidebar-section-title">Daily Tracking</span>
              <i class="bi bi-chevron-down sidebar-section-arrow"></i>
            </div>
            <nav class="sidebar-nav">
              <a class="sidebar-link {% if active_page == 'overview' %}active{% endif %}" href="{{ url_for('overview_page') }}" data-tooltip="Overview" data-tour-id="nav-overview">
                <i class="bi bi-bar-chart-line sidebar-link-icon"></i>
                <span class="sidebar-link-label">Overview</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'planner' %}active{% endif %}" href="{{ url_for('planner') }}" data-tooltip="Planner">
                <i class="bi bi-layout-text-window-reverse sidebar-link-icon"></i>
                <span class="sidebar-link-label">Planner</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'timer' %}active{% endif %}" href="{{ url_for('timer') }}" data-tooltip="Timer">
                <i class="bi bi-stopwatch sidebar-link-icon"></i>
                <span class="sidebar-link-label">Timer</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'calendar' %}active{% endif %}" href="{{ url_for('calendar') }}" data-tooltip="Calendar">
                <i class="bi bi-calendar-week sidebar-link-icon"></i>
                <span class="sidebar-link-label">Calendar</span>
                <span class="sidebar-link-indicator"></span>
              </a>
            </nav>
          </div>

          <!-- Habits & Goals Section -->
          <div class="sidebar-section" data-collapsed="true">
            <div class="sidebar-section-header">
              <i class="bi bi-bullseye sidebar-section-icon"></i>
              <span class="sidebar-section-title">Habits & Goals</span>
              <i class="bi bi-chevron-down sidebar-section-arrow"></i>
            </div>
            <nav class="sidebar-nav">
              <a class="sidebar-link {% if active_page == 'habits' %}active{% endif %}" href="{{ url_for('habits') }}" data-tooltip="Habits">
                <i class="bi bi-check2-circle sidebar-link-icon"></i>
                <span class="sidebar-link-label">Habits</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'reminders' %}active{% endif %}" href="{{ url_for('reminders') }}" data-tooltip="Reminders">
                <i class="bi bi-bell sidebar-link-icon"></i>
                <span class="sidebar-link-label">Reminders</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'goals' %}active{% endif %}" href="{{ url_for('goals') }}" data-tooltip="Goals Overview" data-tour-id="nav-goals">
                <i class="bi bi-graph-up-arrow sidebar-link-icon"></i>
                <span class="sidebar-link-label">Goals Overview</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'long_term_goals' %}active{% endif %}" href="{{ url_for('long_term_goals') }}" data-tooltip="Long-term Goals">
                <i class="bi bi-flag-fill sidebar-link-icon"></i>
                <span class="sidebar-link-label">Long-term Goals</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'weekly_goals' %}active{% endif %}" href="{{ url_for('weekly_goals') }}" data-tooltip="Weekly Goals">
                <i class="bi bi-calendar2-week sidebar-link-icon"></i>
                <span class="sidebar-link-label">Weekly Goals</span>
                <span class="sidebar-link-indicator"></span>
              </a>
            </nav>
          </div>

          <!-- Analytics Section -->
          <div class="sidebar-section" data-collapsed="true">
            <div class="sidebar-section-header">
              <i class="bi bi-graph-up sidebar-section-icon"></i>
              <span class="sidebar-section-title">Analytics</span>
              <i class="bi bi-chevron-down sidebar-section-arrow"></i>
            </div>
            <nav class="sidebar-nav">
              <a class="sidebar-link {% if active_page == 'reports' %}active{% endif %}" href="{{ url_for('reports') }}" data-tooltip="Reports">
                <i class="bi bi-file-earmark-bar-graph sidebar-link-icon"></i>
                <span class="sidebar-link-label">Reports</span>
                <span class="sidebar-link-indicator"></span>
              </a>
            </nav>
          </div>

          <!-- Organization Section -->
          <div class="sidebar-section" data-collapsed="true">
            <div class="sidebar-section-header">
              <i class="bi bi-folder sidebar-section-icon"></i>
              <span class="sidebar-section-title">Organization</span>
              <i class="bi bi-chevron-down sidebar-section-arrow"></i>
            </div>
            <nav class="sidebar-nav">
              <a class="sidebar-link {% if active_page == 'projects' %}active{% endif %}" href="{{ url_for('projects') }}" data-tooltip="Projects" data-tour-id="nav-projects">
                <i class="bi bi-folder2-open sidebar-link-icon"></i>
                <span class="sidebar-link-label">Projects</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'labels' %}active{% endif %}" href="{{ url_for('labels') }}" data-tooltip="Tags" data-tour-id="nav-labels">
                <i class="bi bi-tags sidebar-link-icon"></i>
                <span class="sidebar-link-label">Tags</span>
                <span class="sidebar-link-indicator"></span>
              </a>
              <a class="sidebar-link {% if active_page == 'tasks' %}active{% endif %}" href="{{ url_for('index') }}" data-tooltip="Tasks">
                <i class="bi bi-list-check sidebar-link-icon"></i>
                <span class="sidebar-link-label">Tasks</span>
                <span class="sidebar-link-indicator"></span>
              </a>
            </nav>
          </div>

          <!-- Settings Section -->
          <div class="sidebar-section" data-collapsed="true">
            <div class="sidebar-section-header">
              <i class="bi bi-gear sidebar-section-icon"></i>
              <span class="sidebar-section-title">Settings</span>
              <i class="bi bi-chevron-down sidebar-section-arrow"></i>
            </div>
            <nav class="sidebar-nav">
              <a class="sidebar-link {% if active_page == 'account' %}active{% endif %}" href="{{ url_for('account') }}" data-tooltip="Account">
                <i class="bi bi-person-circle sidebar-link-icon"></i>
                <span class="sidebar-link-label">Account</span>
                <span class="sidebar-link-indicator"></span>
              </a>
            </nav>
          </div>
        </div>

        <div class="sidebar-footer">
          <button class="theme-toggle" type="button" data-theme-toggle data-tooltip="Toggle Theme">
            <i class="bi bi-moon-stars theme-toggle-icon"></i>
            <span class="theme-toggle-label">Dark Mode</span>
          </button>
        </div>
      </aside>
      <div class="sidebar-scrim" data-sidebar-toggle aria-hidden="true"></div>
      <main class="app-main col-12 col-lg-10 px-0">
        <div class="mobile-topbar">
          <button class="sidebar-toggle mobile-toggle" type="button" data-sidebar-toggle aria-label="Toggle sidebar" aria-pressed="false">
            <i class="bi bi-layout-sidebar-inset"></i>
          </button>
          <span class="mobile-topbar-title">Goalixa</span>
          <span class="mobile-topbar-spacer" aria-hidden="true"></span>
        </div>
        <div class="global-timer" id="global-timer" aria-live="polite" data-tour-id="global-timer">
          <a class="global-timer-link" href="{{ url_for('timer') }}">
            <span class="global-timer-label">Timer</span>
            <span class="global-timer-value" data-global-timer-value>25:00</span>
            <span class="global-timer-meta" data-global-timer-meta>Focus</span>
            <span class="global-timer-task" data-global-timer-task></span>
          </a>
          <button class="global-timer-dismiss" type="button" data-global-timer-dismiss aria-label="Hide timer">Ã—</button>
        </div>
        <div class="page-content">
          {% block content %}{% endblock %}
        </div>
        <div id="toast-stack" class="toast-stack" aria-live="polite" aria-atomic="true"></div>
        <footer class="site-footer">
          <div class="site-footer-inner">
            <div class="footer-brand">
              <div class="footer-brand-header">
                <span class="footer-logo">GX</span>
                <span class="footer-title">Goalixa</span>
              </div>
              <p class="footer-copy">Track sessions, ship goals, and keep momentum every day.</p>
            </div>
            <div class="footer-links">
              <span class="footer-label">Quick Links</span>
              <nav class="footer-nav">
                <a href="{{ url_for('timer') }}">Timer</a>
                <a href="{{ url_for('overview_page') }}">Overview</a>
                <a href="{{ url_for('projects') }}">Projects</a>
                <a href="{{ url_for('reports') }}">Reports</a>
              </nav>
            </div>
            <div class="footer-links">
              <span class="footer-label">Settings</span>
              <nav class="footer-nav">
                <a href="{{ url_for('account') }}">Account</a>
                <a href="{{ url_for('habits') }}">Habits</a>
                <a href="{{ url_for('goals') }}">Goals</a>
                <a href="{{ url_for('labels') }}">Tags</a>
              </nav>
            </div>
          </div>
        </footer>
      </main>
    </div>
  </div>
  <script src="{{ url_for('static', filename='vendor/bootstrap/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='theme.js') }}"></script>
  <script src="{{ url_for('static', filename='global_timer.js') }}"></script>
  <script src="{{ url_for('static', filename='onboarding.js') }}"></script>
  {% block scripts %}{% endblock %}
</body>
</html>
