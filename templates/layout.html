<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title or "Goalixa" }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap/bootstrap.min.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap-icons/bootstrap-icons.min.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  {% block head_extra %}{% endblock %}
</head>
<body>
  <div class="container-fluid">
    <div class="row min-vh-100 app-shell">
      <aside class="sidebar col-12 col-lg-2 px-3 py-4">
        <div class="sidebar-header">
          <div class="sidebar-brand">
            <span class="sidebar-brand-mark">GX</span>
            <span class="sidebar-brand-text">Goalixa</span>
          </div>
          <button class="sidebar-toggle" type="button" data-sidebar-toggle aria-label="Toggle sidebar" aria-pressed="false">
            <i class="bi bi-layout-sidebar-inset"></i>
          </button>
        </div>
        <div class="sidebar-section">
          <span class="sidebar-title">Track</span>
          <nav class="sidebar-nav">
            <a class="sidebar-link {% if active_page == 'overview' %}active{% endif %}" href="{{ url_for('overview') }}"><i class="bi bi-bar-chart-line"></i><span class="sidebar-link-label">Overview</span></a>
            <a class="sidebar-link {% if active_page == 'planner' %}active{% endif %}" href="{{ url_for('planner') }}"><i class="bi bi-layout-text-window-reverse"></i><span class="sidebar-link-label">Planner</span></a>
            <a class="sidebar-link {% if active_page == 'timer' %}active{% endif %}" href="{{ url_for('timer') }}"><i class="bi bi-stopwatch"></i><span class="sidebar-link-label">Timer</span></a>
            <a class="sidebar-link {% if active_page == 'calendar' %}active{% endif %}" href="{{ url_for('calendar') }}"><i class="bi bi-calendar-week"></i><span class="sidebar-link-label">Calendar</span></a>
            <a class="sidebar-link {% if active_page == 'habits' %}active{% endif %}" href="{{ url_for('habits') }}"><i class="bi bi-check2-circle"></i><span class="sidebar-link-label">Habits</span></a>
            <a class="sidebar-link {% if active_page == 'reminders' %}active{% endif %}" href="{{ url_for('reminders') }}"><i class="bi bi-bell"></i><span class="sidebar-link-label">Reminders</span></a>
            <a class="sidebar-link {% if active_page == 'goals' %}active{% endif %}" href="{{ url_for('goals') }}"><i class="bi bi-graph-up-arrow"></i><span class="sidebar-link-label">Goals overview</span></a>
            <a class="sidebar-link {% if active_page == 'long_term_goals' %}active{% endif %}" href="{{ url_for('long_term_goals') }}"><i class="bi bi-bullseye"></i><span class="sidebar-link-label">Long-term goals</span></a>
            <a class="sidebar-link {% if active_page == 'weekly_goals' %}active{% endif %}" href="{{ url_for('weekly_goals') }}"><i class="bi bi-calendar2-week"></i><span class="sidebar-link-label">Weekly Goals</span></a>
          </nav>
        </div>
        <div class="sidebar-section">
          <span class="sidebar-title">Analyze</span>
          <nav class="sidebar-nav">
            <a class="sidebar-link {% if active_page == 'reports' %}active{% endif %}" href="{{ url_for('reports') }}"><i class="bi bi-graph-up"></i><span class="sidebar-link-label">Reports</span></a>
          </nav>
        </div>
        <div class="sidebar-section">
          <span class="sidebar-title">Manage</span>
          <nav class="sidebar-nav">
            <a class="sidebar-link {% if active_page == 'projects' %}active{% endif %}" href="{{ url_for('projects') }}"><i class="bi bi-folder2-open"></i><span class="sidebar-link-label">Projects</span></a>
            <a class="sidebar-link {% if active_page == 'labels' %}active{% endif %}" href="{{ url_for('labels') }}"><i class="bi bi-tags"></i><span class="sidebar-link-label">Tags</span></a>
            <a class="sidebar-link {% if active_page == 'tasks' %}active{% endif %}" href="{{ url_for('index') }}"><i class="bi bi-list-check"></i><span class="sidebar-link-label">Tasks</span></a>
            <a class="sidebar-link {% if active_page == 'account' %}active{% endif %}" href="{{ url_for('account') }}"><i class="bi bi-person-circle"></i><span class="sidebar-link-label">Account</span></a>
          </nav>
        </div>
        <div class="sidebar-footer">
          <button class="btn btn-outline-light btn-sm theme-toggle" type="button" data-theme-toggle>
            <i class="bi bi-moon-stars"></i>
            <span class="theme-toggle-label">Theme</span>
          </button>
        </div>
      </aside>
      <main class="app-main col-12 col-lg-10 px-0">
        <div class="global-timer" id="global-timer" aria-live="polite">
          <a class="global-timer-link" href="{{ url_for('timer') }}">
            <span class="global-timer-label">Timer</span>
            <span class="global-timer-value" data-global-timer-value>25:00</span>
            <span class="global-timer-meta" data-global-timer-meta>Focus</span>
            <span class="global-timer-task" data-global-timer-task></span>
          </a>
          <button class="global-timer-dismiss" type="button" data-global-timer-dismiss aria-label="Hide timer">Ã—</button>
        </div>
        <div class="page-content">
          {% block content %}{% endblock %}
        </div>
        <div id="toast-stack" class="toast-stack" aria-live="polite" aria-atomic="true"></div>
        <footer class="site-footer">
          <div class="site-footer-inner">
            <div class="footer-brand">
              <span class="footer-title">Goalixa</span>
              <p class="footer-copy">Track sessions, ship goals, and keep momentum every day.</p>
            </div>
            <div class="footer-links">
              <span class="footer-label">Navigate</span>
              <div class="footer-nav">
                <a href="{{ url_for('timer') }}">Timer</a>
                <a href="{{ url_for('projects') }}">Projects</a>
                <a href="{{ url_for('reports') }}">Reports</a>
                <a href="{{ url_for('account') }}">Account</a>
              </div>
            </div>
            <div class="footer-meta">
              <span class="footer-label">Status</span>
              <div class="footer-stat">
                <span>Focused today</span>
                <strong>02:15</strong>
              </div>
              <div class="footer-stat">
                <span>Week total</span>
                <strong>18:40</strong>
              </div>
            </div>
          </div>
          <div class="site-footer-bottom">
            <span>Built for deep work.</span>
            <span>v1.0</span>
          </div>
        </footer>
      </main>
    </div>
  </div>
  <script src="{{ url_for('static', filename='vendor/bootstrap/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='theme.js') }}"></script>
  <script src="{{ url_for('static', filename='global_timer.js') }}"></script>
  {% block scripts %}{% endblock %}
</body>
</html>
