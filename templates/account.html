{% extends "layout.html" %}
{% set title = "Account" %}
{% set active_page = "account" %}

{% block content %}
  <main class="container py-4">
    <section class="card">
      <h2>Account</h2>
      <p>Signed in as <strong>{{ user.email }}</strong></p>
      <div class="d-flex gap-2 mt-3 flex-wrap">
        <a class="btn btn-outline-primary btn-sm" href="{{ url_for_security('change_password') }}">
          <i class="bi bi-shield-lock"></i>
          Change password
        </a>
        <a class="btn btn-primary btn-sm" href="{{ url_for_security('logout') }}">
          <i class="bi bi-box-arrow-right"></i>
          Log out
        </a>
      </div>
    </section>

    <section class="card">
      <h2>App settings</h2>
      <form method="post" action="{{ url_for('update_timezone') }}">
        <label class="d-block mb-2">
          Timezone
          <select class="form-select mt-2" name="timezone">
            {% for tz in timezone_options %}
              <option value="{{ tz }}" {% if tz == timezone_name %}selected{% endif %}>{{ tz }}</option>
            {% endfor %}
          </select>
        </label>
        <button class="btn btn-outline-primary btn-sm" type="submit">
          <i class="bi bi-check2-circle"></i>
          Save settings
        </button>
      </form>
    </section>
  </main>
{% endblock %}
